<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-12-12T08:00:00.000Z" agent="TraeAI" etag="abc123" version="24.7.5" type="device">
  <diagram name="LR1算法流程图" id="lr1-flowchart">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 开始节点 -->
        <mxCell id="start" value="开始" style="rounded=1;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="50" width="100" height="40" as="geometry" />
        </mxCell>
        
        <!-- 初始化：创建增广文法 -->
        <mxCell id="augment" value="创建增广文法S' → S" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="120" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- 计算LL1信息（FIRST集） -->
        <mxCell id="compute_ll1" value="计算LL1信息
（包含FIRST集）" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="200" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 构建初始项集I0 -->
        <mxCell id="build_i0" value="构建初始项集I0
计算闭包：closureLL1(S' → .S, $)" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="280" width="180" height="50" as="geometry" />
        </mxCell>
        
        <!-- 初始化LR1图 -->
        <mxCell id="init_graph" value="初始化LR1图
添加I0到状态列表" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="360" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- 状态处理循环开始 -->
        <mxCell id="loop_start" value="处理所有未处理状态" style="shape=rhombus;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="440" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 处理当前状态 -->
        <mxCell id="process_state" value="处理当前状态I" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="440" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- 收集所有可能的转移符号 -->
        <mxCell id="collect_symbols" value="收集当前项集I中所有可能的转移符号X" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="520" width="180" height="40" as="geometry" />
        </mxCell>
        
        <!-- 转移符号循环开始 -->
        <mxCell id="symbol_loop" value="处理所有转移符号X" style="shape=rhombus;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="600" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 计算goTo转移 -->
        <mxCell id="compute_goto" value="计算goTo(I, X) = closureLL1(I中所有项•后移X)
得到新项集J" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="600" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- 检查项集J是否为空 -->
        <mxCell id="check_empty" value="项集J是否为空？" style="shape=rhombus;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="750" y="600" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 检查项集J是否已存在 -->
        <mxCell id="check_exist" value="项集J是否已存在？" style="shape=rhombus;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="750" y="520" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 添加新状态 -->
        <mxCell id="add_state" value="将J添加到状态列表
并记录索引" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="750" y="440" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- 添加边 -->
        <mxCell id="add_edge" value="添加边：I → X → J" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="440" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- 计算Action和Goto表开始 -->
        <mxCell id="compute_tables" value="开始计算Action和Goto表" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="700" width="180" height="40" as="geometry" />
        </mxCell>
        
        <!-- 初始化表 -->
        <mxCell id="init_tables" value="初始化Action表和Goto表
计算归约编号映射" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="780" width="180" height="50" as="geometry" />
        </mxCell>
        
        <!-- 遍历所有状态生成表 -->
        <mxCell id="iterate_states" value="遍历所有状态" style="shape=rhombus;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="860" width="150" height="50" as="geometry" />
        </mxCell>
        
        <!-- 处理状态项生成Action表 -->
        <mxCell id="gen_action" value="处理状态中的所有项：
1. 点未到末尾：若X为终结符，添加移进动作
2. 点已到末尾：添加接受或归约动作" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="860" width="220" height="60" as="geometry" />
        </mxCell>
        
        <!-- 生成Goto表 -->
        <mxCell id="gen_goto" value="生成Goto表：
为所有非终结符添加转移项" style="fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="940" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- 结束节点 -->
        <mxCell id="end" value="结束" style="rounded=1;fillColor=#ffffff;strokeColor=#000000;fontColor=#000000;verticalAlign=middle;align=center;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1020" width="100" height="40" as="geometry" />
        </mxCell>
        
        <!-- 连接边 -->
        <mxCell id="e1" value="" source="start" target="augment" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" value="" source="augment" target="compute_ll1" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e3" value="" source="compute_ll1" target="build_i0" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e4" value="" source="build_i0" target="init_graph" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e5" value="" source="init_graph" target="loop_start" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e6" value="是" source="loop_start" target="process_state" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e7" value="" source="process_state" target="collect_symbols" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e8" value="" source="collect_symbols" target="symbol_loop" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e9" value="是" source="symbol_loop" target="compute_goto" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e10" value="" source="compute_goto" target="check_empty" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e11" value="否" source="check_empty" target="check_exist" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e12" value="是" source="check_exist" target="add_state" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e13" value="否" source="check_exist" target="add_edge" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e14" value="" source="add_state" target="add_edge" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e15" value="" source="add_edge" target="symbol_loop" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e16" value="否" source="symbol_loop" target="loop_start" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e17" value="是" source="check_empty" target="symbol_loop" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e18" value="否" source="loop_start" target="compute_tables" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e19" value="" source="compute_tables" target="init_tables" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e20" value="" source="init_tables" target="iterate_states" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e21" value="是" source="iterate_states" target="gen_action" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e22" value="" source="gen_action" target="gen_goto" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e23" value="" source="gen_goto" target="iterate_states" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e24" value="否" source="iterate_states" target="end" style="strokeColor=#000000;edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;rounded=0;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
# 项目结构调整和UI设计方案

## 1. 项目结构设计

### 1.1 整体结构

```
byylCD/          # 项目根目录
├── include/     # 头文件目录
│   ├── mainwindow.h         # 主窗口头文件
│   ├── experiment1window.h  # 实验一窗口头文件
│   └── experiment2window.h  # 实验二窗口头文件
│   └── 其他现有头文件...
├── src/         # 源文件目录
│   ├── mainwindow.cpp       # 主窗口源文件
│   ├── experiment1window.cpp # 实验一窗口源文件
│   └── experiment2window.cpp # 实验二窗口源文件
│   └── 其他现有源文件...
├── ui/          # UI文件目录
│   ├── mainwindow.ui        # 主窗口UI
│   ├── experiment1window.ui # 实验一窗口UI
│   └── experiment2window.ui # 实验二窗口UI
└── 其他项目文件...
```

### 1.2 类结构设计

| 类名                | 继承关系        | 功能描述                   |
| ----------------- | ----------- | ---------------------- |
| MainWindow        | QMainWindow | 主窗口，包含两个按钮，分别通往实验一和实验二 |
| Experiment1Window | QMainWindow | 实验一窗口，包含当前项目的所有功能      |
| Experiment2Window | QMainWindow | 实验二窗口，用于未来扩展           |

## 2. UI设计方案

### 2.1 主窗口UI设计

* **布局**：垂直布局

* **组件**：

  * 标题标签：显示项目名称

  * 按钮1："进入实验一 - 词法分析器生成器"

  * 按钮2："进入实验二 - 未来扩展"

  * 说明文本：简要描述每个实验的功能

* **风格**：简洁明了，突出两个实验入口

### 2.2 实验一窗口UI设计

* **布局**：保持当前的QTabWidget布局

* **组件**：

  * 保持现有的5个标签页：正则表达式、NFA、DFA、最小化DFA、词法分析器、测试

  * 功能完全继承当前项目

### 2.3 实验二窗口UI设计

* **布局**：空的QTabWidget布局，用于未来扩展

* **组件**：

  * 预留标签页，可根据实验二的需求添加

## 3. 实现步骤

### 3.1 步骤1：创建新的窗口类

1. 创建`experiment1window.h`和`experiment1window.cpp`文件
2. 创建`experiment2window.h`和`experiment2window.cpp`文件
3. 设计并创建对应的UI文件

### 3.2 步骤2：修改主窗口UI

1. 打开`mainwindow.ui`文件
2. 删除现有的QTabWidget
3. 添加垂直布局，包含以下组件：

   * QLabel：标题

   * QPushButton：进入实验一

   * QPushButton：进入实验二

   * QLabel：说明文本

### 3.3 步骤3：迁移功能到实验一窗口

1. 将`MainWindow`类的成员变量和方法迁移到`Experiment1Window`类
2. 修改`Experiment1Window`类的UI，使其与原`MainWindow`一致
3. 确保`Experiment1Window`类能够正常编译和运行

### 3.4 步骤4：修改主窗口逻辑

1. 在`MainWindow`类中添加两个按钮的点击事件处理函数
2. 实现打开`Experiment1Window`和`Experiment2Window`的逻辑
3. 确保主窗口能够正确打开和关闭实验窗口

### 3.5 步骤5：测试和验证

1. 编译项目，确保没有语法错误
2. 运行项目，验证主窗口能够正常打开
3. 点击"进入实验一"按钮，验证实验一窗口能够正常打开和运行
4. 点击"进入实验二"按钮，验证实验二窗口能够正常打开

## 4. 代码修改点

### 4.1 mainwindow\.h

* 添加两个按钮的声明

* 添加打开实验窗口的方法声明

### 4.2 mainwindow\.cpp

* 实现按钮点击事件处理函数

* 实现打开实验窗口的方法

### 4.3 experiment1window\.h

* 继承`MainWindow`类的成员变量和方法

### 4.4 experiment1window\.cpp

* 实现实验一窗口的构造函数和析构函数

* 迁移`MainWindow`类的所有方法实现

### 4.5 experiment2window\.h

* 定义实验二窗口的基本结构

### 4.6 experiment2window\.cpp

* 实现实验二窗口的构造函数和析构函数

## 5. 预期效果

1. **主窗口**：显示两个按钮，分别通往实验一和实验二
2. **实验一窗口**：完全继承当前项目的所有功能，包括正则表达式解析、NFA生成、DFA生成、最小化DFA生成、词法分析器生成和测试
3. **实验二窗口**：空窗口，用于未来扩展
4. **项目结构**：清晰的分层结构，便于维护和扩展

## 6. 扩展建议

1. 实验二可以根据课程需求扩展为语法分析器生成器、语义分析器等
2. 每个实验窗口可以独立编译和运行，便于调试和测试
3. 可以添加实验选择菜单，方便用户在不同实验之间切换
4. 可以添加实验说明文档，帮助用户理解每个实验的功能和使用方法

## 7. 注意事项

1. 在迁移功能时，确保所有的信号和槽连接都正确
2. 确保UI文件与代码文件的对应关系正确
3. 确保项目的编译和运行环境配置正确
4. 在修改过程中，建议先备份原有的代码和UI文件
5. 测试过程中，确保每个功能都能正常工作
6. 修改后记得更新各文件内的头文件引用


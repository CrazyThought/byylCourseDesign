# 词法分析模块问题修复计划

## 问题总结
1. **词法分析器生成代码不完整**：在`generateStateTransitionLexer`函数中，主函数代码被截断，缺少完整的输出文件处理逻辑。
2. **测试功能不完整**：`on_btnTestLexer_clicked`函数被注释掉，无法直接测试词法分析器。
3. **状态转移处理不完整**：switch分支中default状态的处理较为简单，没有完整处理所有状态的转移。
4. **源程序查看功能不完整**：虽然可以打开测试文件，但缺少直接在界面上运行测试的功能。

## 修复计划

### 1. 修复词法分析器生成代码
- 完善`generateStateTransitionLexer`函数，确保生成的词法分析器代码完整
- 修复主函数中输出文件的处理逻辑

### 2. 恢复测试功能
- 取消`on_btnTestLexer_clicked`函数的注释
- 确保该函数能正确调用`testLexer`方法
- 修复UI界面，确保有对应的测试按钮

### 3. 完善状态转移处理
- 优化switch分支中default状态的处理
- 确保所有状态都能正确转移

### 4. 完善源程序查看和测试功能
- 确保可以在界面上查看源程序
- 实现直接在界面上运行词法分析测试的功能

## 实施步骤
1. 修改`src/lexergenerator.cpp`中的`generateStateTransitionLexer`函数，完善生成的词法分析器代码
2. 修改`src/mainwindow.cpp`，恢复测试功能
3. 测试修复后的词法分析器生成功能
4. 测试修复后的词法分析器测试功能

## 预期结果
- 词法分析器生成代码完整，能够正确编译
- 测试功能恢复，能够直接在界面上测试词法分析器
- 源程序可以在界面上查看和测试
- 词法分析器能够正确处理各种状态转移
- 非法字符能够被正确检测并输出Error信息